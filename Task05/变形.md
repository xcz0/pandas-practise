# 变形

## 长宽表的变形

对于某个特征而言，若其值全存储在一列中，则为长表；若将其值作为列索引，则为宽表。

### pivot

df.pivot(index=, columns=, values=) ，此三参数皆为原表列索引，index,columns分别为新表的行索引和列索引，values 为两特征值下对应的值。相同索引对应的值须唯一。三参数也可为列表，即对应多级索引。

### pivot_table

与上函数类似，不过索引对应值可以不唯一。增加参数 aggfunc ，为相同索引值对应的操作，可为内置函数名或自定义函数名或lambda表达式。边际汇总的功能，可以通过设置margins=True 来实现，其中边际的聚合方式与 aggfunc 中给出的聚合方法一致。

### melt

为 pivot 的逆操作。df.melt(id_vars ,value_vars ,var_name ,value_name)。